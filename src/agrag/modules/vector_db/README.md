## Vector Database Module

This module is responsible for creating a Vector Database and storing the vectors (embeddings) generated by the Embedding Module. Duplicate embeddings are not stored by default to ensure the efficiency and accuracy of the search operations.

### What are Duplicate Embeddings?

Duplicate embeddings are embeddings that represent very similar or identical data points. Storing these duplicates can lead to redundancy, increased storage requirements, and degraded performance during similarity searches.

### How We Handle Duplicate Embeddings

We identify and remove duplicate embeddings based on a configurable similarity threshold. The similarity between embeddings is calculated using a specified similarity function (e.g., cosine, euclidean, or manhattan). If the similarity score between two embeddings exceeds the defined threshold, one of them is considered a duplicate and is removed. This deduplication process ensures that the vector database remains efficient for retrieval tasks.

###  Configuration
Here are the configurable parameters for this module:
```
vector_db:
  db_type: The type of Vector DB (Currently, only 'faiss' and 'milvus' are supported). Default is 'milvus'. 

  params: What parameters to use for the Vector DB. For example, `{gpu: False}`.

  similarity_threshold: The threshold for considering embeddings as duplicates based on a similarity function (default is `0.95`).

  similarity_fn: The similarity function used for determining similarity scores for embeddings. Options are `cosine`, `euclidean`, `manhattan` (default is `cosine`).

  use_existing_vector_db: Boolean to decide whether or not to use an existing, stored Vector DB Index from disk memory. 

  vector_db_index_save_path: The path to store the vector DB index. This can be a local path or an S3 path.
  Note that if it is a Milvus DB, the milvus package automatically saves the index at the path specified in milvus_db_name. 
  
  metadata_index_save_path: The path to store the Metadata. This can be a local path or an S3 path.
  
  vector_db_index_load_path: The path to an existing, stored Vector DB Index file. This can be a local path or an S3 path. 
  Note that if it is a Milvus DB, this value must be the same as milvus_db_name since that is where the milvus package automatically stores the database.
  
  metadata_index_load_path:  The path to an existing, stored Metadata JSON file. This can be a local path or an S3 path.
  Note that we do not support using an existing Milvus database

  num_gpus: Number of GPUs to use when building the index
  
  metadata: Metadata for each embedding stored in the database

  s3_bucket: If applicable, S3 bucket that contains vector DB index and metadata files 

  faiss_index_type: Type of FAISS Index to use (IndexFlatL2, IndexIVFFlat, IndexIVFPQ). For IndexIVFFlat, and IndexIVFPQ, we use the quantizer IndexFlatL2 by default.

  faiss_quantized_index_params: Additional parameters to pass into IndexIVFPQ

  faiss_clustered_index_params: Additional parameters to pass into IndexIVFFlat

  faiss_index_nprobe: Value to set FAISS index nprobe to
  
  milvus_db_name: Name of the Milvus DB Client

  milvus_collection_name: Name of the Milvus Collection. A DB can have multiple collections but we only use one here

  milvus_search_params: Additional Params to pass into the search function for Milvus when retrieving embeddings

  milvus_index_params: Additional Params to pass into the create_collection function for Milvus when creating the index

  milvus_create_params: Additional Params to pass into the create_collection function for Milvus when creating the collections
```
